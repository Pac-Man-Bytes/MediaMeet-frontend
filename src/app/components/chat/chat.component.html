<div class="card">
  <div class="card-header p-0 justify-content-center" style="background: #dd4b39">
    <h1 class="my-0 p-3" style="color:seashell;font-size: large">Room Chat</h1>
  </div>
  <div #scrollChat [scrollTop]="scrollChat.scrollHeight" class="card-body chatC" style="
  overflow-y: scroll; height:21rem"
       *ngIf="connected">
    <mat-list role="list" *ngFor="let message of messages">
      <mat-list-item role="listitem">
        <span *ngIf="message.type =='NEW_USER'">
          @ <span [ngStyle]="{'color':message.color}">{{message.username}}</span>
          {{message.text}} </span>
        <span *ngIf="message.type =='MESSAGE'" class="badge badge-pill badge-light w-100 my-1"
              style="text-align: left;  font-size: 11px;
              overflow-x:hidden;
              white-space: pre-wrap;

              ">
          <img src="https://centromedicomontemar.cl/wp-content/uploads/2015/06/sin-perfil.png"
               style="border-radius: 50%;width: 32px;height: 32px; display: inline-block"
          >
          <span [ngStyle]="{'color':message.color}" style="padding-bottom:0;margin-bottom:0;">{{message.username}}</span><br>
          <span style="color:#212529; position: relative; left: 32px; top: -3px; overflow-x:hidden; white-space: pre-wrap;">{{message.text}}</span>
        </span>
      </mat-list-item>
    </mat-list>
  </div>
  <div class="card-footer" *ngIf="connected">
    <form class="form-inline" #form="ngForm"
          (keydown.enter)="sendMessage()">
      <div class="form-group" style="margin-right: 15px; width: 80%">
        <input type="text" class="form-control w-100" placeholder="Escribe un mensaje..." name="texto"
               [(ngModel)]="message.text" (keyup)="writingEvent()">
      </div>
      <div style="border-radius: 50%;background: #dd4b39; height: 42.6666666667px; width: 42.6666666667px; cursor: pointer" (click)="sendMessage()">
        <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/104946/ic_send_white_48dp.png" style=" width:25.6px;height: 25.6px;
        position:relative;bottom: -8.6666666667px; right: -10.6666666667px">
      </div>
    </form>
    <div>{{writing}}</div>
  </div>
</div>
